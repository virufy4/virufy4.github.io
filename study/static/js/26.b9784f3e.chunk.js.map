{"version":3,"sources":["../node_modules/little-state-machine/dist/little-state-machine.es.js","../../usePortal.ts","../node_modules/use-ssr/dist/useSSR.js","components/ProgressIndicator/style.ts","components/ProgressIndicator/ProgressIndicator.tsx","containers/SubmitSteps/Questionary/Step2b/Step2b.tsx"],"names":["getBrowserStoreData","storageType","storeName","sessionStorageData","getItem","JSON","parse","undefined","_a","storeFactory","name","store","set","value","get","getName","isUndefined","val","setUpDevTools","isDevMode","getStore","window","STATE_MACHINE_DEBUG","setItem","STATE_MACHINE_RESET","clear","STATE_MACHINE_GET_STORE","STATE_MACHINE_SAVE_TO","localStorage","stringify","STATE_MACHINE_LOAD","data","StateMachineContext","createContext","updateStore","payload","transformStore","transform","externalStoreName","externalStoreData","currentStoreData","getSyncStoreData","defaultStoreData","options","syncStoreOption","syncStores","Array","isArray","forEach","option","Object","entries","key","values","browserStore","assign","setStore","isClient","sessionStorage","length","toString","removeItem","middleWaresArray","setStorageType","type","createStore","middleWares","methods","process","StateMachineProvider","props","useState","globalState","useMemo","createElement","Provider","actionTemplate","callback","result","shouldReRenderApp","pipeData","reduce","currentValue","currentFunction","useStateMachine","updateStoreFunction","useContext","keys","actions","previous","useCallback","action","p","state","Device","__assign","this","t","s","i","n","arguments","prototype","hasOwnProperty","call","apply","defineProperty","exports","Browser","Server","Native","canUseDOM","document","device","navigator","product","SSRObject","isBrowser","isServer","isNative","canUseWorkers","Worker","canUseEventListeners","addEventListener","canUseViewport","screen","toArrayObject","args","_i","acc","obj","map","useSSRObject","weAreServer","useSSR","default","ProgressIndicatorContainer","styled","div","theme","breakpoints","tablet","BarIndicatorContainer","colors","purple","BarIndicator","midGrayBlue","currentStep","totalSteps","React","memo","className","radius","stroke","color","green","colorTrack","gray3","progressBar","useTranslation","progress","normalizedRadius","circumference","Math","PI","strokeDashoffset","width","height","viewBox","fill","strokeWidth","r","cx","cy","strokeDasharray","style","fontSize","x","y","dominantBaseline","textAnchor","schema","Yup","gender","required","defined","previousStep","nextStep","storeKey","metadata","Portal","usePortal","bindTo","getElementById","useHeaderContext","setDoGoBack","setTitle","setType","history","useHistory","updateAction","country","getCountry","activeStep","setActiveStep","useForm","mode","defaultValues","resolver","yupResolver","control","handleSubmit","formState","errors","isValid","handleDoBack","push","goBack","useEffect","scrollToTop","onSubmit","a","genderOptions","label","current","total","first","defaultValue","selected","other","render","onChange","singleSelection","v","items","leftLabel","leftHandler","leftDisabled","invert"],"mappings":"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","file":"static/js/26.b9784f3e.chunk.js","sourcesContent":["import { createContext, useState, useMemo, createElement, useContext, useCallback } from 'react';\n\nconst STORE_DEFAULT_NAME = '__STATE_MACHINE__';\r\nconst STORE_ACTION_NAME = '__STATE_MACHINE_ACTION_NAME__';\r\nconst STATE_MACHINE_DEBUG_NAME = '___STATE_MACHINE_DEBUG__';\n\nvar getBrowserStoreData = (storageType, storeName) => {\r\n    const sessionStorageData = storageType.getItem(storeName);\r\n    try {\r\n        return sessionStorageData ? JSON.parse(sessionStorageData) : undefined;\r\n    }\r\n    catch (_a) {\r\n        return undefined;\r\n    }\r\n};\n\nfunction storeFactory(storageType, name) {\r\n    const storeName = name || STORE_DEFAULT_NAME;\r\n    let store = getBrowserStoreData(storageType, storeName);\r\n    const getName = () => storeName;\r\n    const set = (value) => {\r\n        store = value;\r\n    };\r\n    const get = () => store;\r\n    return {\r\n        set,\r\n        get,\r\n        getName,\r\n    };\r\n}\n\nvar isUndefined = (val) => val === undefined;\n\nfunction setUpDevTools(isDevMode, storageType, getName, getStore) {\r\n    if (typeof window === 'undefined' || !isDevMode)\r\n        return;\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_DEBUG = (value) => storageType.setItem(STATE_MACHINE_DEBUG_NAME, value);\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_RESET = () => storageType.clear();\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_GET_STORE = () => storageType.getItem(getName());\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_SAVE_TO = name => window.localStorage.setItem(name, JSON.stringify(getStore()));\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_LOAD = ({ storeName, data, }) => storageType.setItem(getName() || STATE_MACHINE_DEBUG_NAME, data || window.localStorage.getItem(storeName) || '');\r\n}\n\nvar StateMachineContext = createContext({\r\n    store: {},\r\n    updateStore: (payload) => payload,\r\n});\n\nvar transformStore = ({ transform, externalStoreName, storageType, store, }) => transform({\r\n    externalStoreData: getBrowserStoreData(storageType, externalStoreName),\r\n    currentStoreData: store,\r\n});\n\nfunction getSyncStoreData(defaultStoreData, options, storageType) {\r\n    let store = defaultStoreData;\r\n    const syncStoreOption = options.syncStores;\r\n    if (!syncStoreOption)\r\n        return store;\r\n    try {\r\n        if (Array.isArray(syncStoreOption)) {\r\n            syncStoreOption.forEach(option => {\r\n                store = transformStore({\r\n                    transform: option.transform,\r\n                    externalStoreName: option.externalStoreName,\r\n                    storageType,\r\n                    store,\r\n                });\r\n            });\r\n        }\r\n        else if (syncStoreOption.externalStoreName &&\r\n            typeof syncStoreOption.transform === 'function' &&\r\n            typeof syncStoreOption.externalStoreName === 'string') {\r\n            return transformStore({\r\n                transform: syncStoreOption.transform,\r\n                externalStoreName: syncStoreOption.externalStoreName,\r\n                storageType,\r\n                store,\r\n            });\r\n        }\r\n        else {\r\n            Object.entries(syncStoreOption).forEach(([key, values]) => {\r\n                const browserStore = getBrowserStoreData(storageType, key);\r\n                values.forEach((value) => {\r\n                    store = Object.assign(Object.assign({}, store), {\r\n                        [value]: Object.assign(Object.assign({}, store[value]), browserStore[value]),\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    }\r\n    catch (_a) {\r\n        return store;\r\n    }\r\n    return store;\r\n}\n\nconst isClient = typeof window !== 'undefined';\r\nconst isDevMode = process.env.NODE_ENV !== 'production';\r\nlet storageType = isClient\r\n    ? window.sessionStorage\r\n    : {\r\n        getItem: payload => payload,\r\n        setItem: (payload) => payload,\r\n        clear: () => { },\r\n        length: 0,\r\n        key: (payload) => payload.toString(),\r\n        removeItem: () => { },\r\n    };\r\nlet getStore;\r\nlet setStore;\r\nlet getName;\r\nlet middleWaresArray = [];\r\nconst middleWare = (data = '') => {\r\n    if (data && isClient) {\r\n        // @ts-ignore\r\n        window[STORE_ACTION_NAME] = data;\r\n    }\r\n    return data;\r\n};\r\nfunction setStorageType(type) {\r\n    storageType = type;\r\n}\r\nfunction createStore(defaultStoreData, options = {\r\n    name: STORE_DEFAULT_NAME,\r\n    middleWares: [],\r\n    syncStores: undefined,\r\n}) {\r\n    const storeName = options ? options.name : STORE_DEFAULT_NAME;\r\n    const methods = storeFactory(storageType, storeName);\r\n    if (isDevMode && isClient) {\r\n        // @ts-ignore\r\n        window['STATE_MACHINE_NAME'] = storeName;\r\n    }\r\n    getName = methods.getName;\r\n    getStore = methods.get;\r\n    setStore = methods.set;\r\n    middleWaresArray = options.middleWares;\r\n    setUpDevTools(isDevMode, storageType, getName, getStore);\r\n    setStore(getSyncStoreData(getStore() || defaultStoreData, options, storageType));\r\n}\r\nfunction StateMachineProvider(props) {\r\n    const [globalState, updateStore] = useState(getStore());\r\n    const value = useMemo(() => ({\r\n        store: globalState,\r\n        updateStore,\r\n    }), [globalState]);\r\n    // @ts-ignore\r\n    return createElement(StateMachineContext.Provider, Object.assign({ value: value }, props));\r\n}\r\nconst actionTemplate = ({ options, callback, updateStore, }) => (payload) => {\r\n    let result;\r\n    const debugName = callback ? callback.name : '';\r\n    if (isDevMode) {\r\n        middleWare(debugName);\r\n    }\r\n    if (callback) {\r\n        result = callback(getStore(), payload);\r\n    }\r\n    setStore(isUndefined(result) ? getStore() : result);\r\n    storageType.setItem(getName(), JSON.stringify(getStore()));\r\n    if (isUndefined(options) ||\r\n        (options && options.shouldReRenderApp !== false)) {\r\n        let pipeData = getStore();\r\n        if (Array.isArray(middleWaresArray) && middleWaresArray.length) {\r\n            pipeData = middleWaresArray.reduce((currentValue, currentFunction) => currentFunction(currentValue) || currentValue, pipeData);\r\n        }\r\n        updateStore(pipeData);\r\n    }\r\n};\r\nfunction useStateMachine(updateStoreFunction, options) {\r\n    const { store: globalState, updateStore } = useContext(StateMachineContext);\r\n    if (updateStoreFunction && Object.keys(updateStoreFunction).length) {\r\n        return {\r\n            actions: Object.entries(updateStoreFunction).reduce((previous, [key, callback]) => (Object.assign(Object.assign({}, previous), { [key]: useCallback(actionTemplate({\r\n                    options,\r\n                    callback,\r\n                    updateStore,\r\n                }), []) })), {}),\r\n            action: p => p,\r\n            state: globalState,\r\n        };\r\n    }\r\n    return {\r\n        actions: {},\r\n        action: useCallback(updateStoreFunction\r\n            ? actionTemplate({\r\n                options,\r\n                callback: updateStoreFunction,\r\n                updateStore,\r\n            })\r\n            : () => { }, []),\r\n        state: globalState,\r\n    };\r\n}\n\nexport { StateMachineContext, StateMachineProvider, createStore, setStorageType, useStateMachine };\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar react_dom_1 = require(\"react-dom\");\nvar use_ssr_1 = __importDefault(require(\"use-ssr\"));\nexports.errorMessage1 = 'You must either add a `ref` to the element you are interacting with or pass an `event` to openPortal(e) or togglePortal(e).';\nfunction usePortal(_a) {\n    if (_a === void 0) { _a = {}; }\n    var _b = _a.closeOnOutsideClick, closeOnOutsideClick = _b === void 0 ? true : _b, _c = _a.closeOnEsc, closeOnEsc = _c === void 0 ? true : _c, bindTo = _a.bindTo, // attach the portal to this node in the DOM\n    _d = _a.isOpen, // attach the portal to this node in the DOM\n    defaultIsOpen = _d === void 0 ? false : _d, onOpen = _a.onOpen, onClose = _a.onClose, onPortalClick = _a.onPortalClick, eventHandlers = __rest(_a, [\"closeOnOutsideClick\", \"closeOnEsc\", \"bindTo\", \"isOpen\", \"onOpen\", \"onClose\", \"onPortalClick\"]);\n    var _e = use_ssr_1.default(), isServer = _e.isServer, isBrowser = _e.isBrowser;\n    var _f = react_1.useState(defaultIsOpen), isOpen = _f[0], makeOpen = _f[1];\n    // we use this ref because `isOpen` is stale for handleOutsideMouseClick\n    var open = react_1.useRef(isOpen);\n    var setOpen = react_1.useCallback(function (v) {\n        // workaround to not have stale `isOpen` in the handleOutsideMouseClick\n        open.current = v;\n        makeOpen(v);\n    }, []);\n    var targetEl = react_1.useRef(); // this is the element you are clicking/hovering/whatever, to trigger opening the portal\n    var portal = react_1.useRef(isBrowser ? document.createElement('div') : null);\n    react_1.useEffect(function () {\n        if (isBrowser && !portal.current)\n            portal.current = document.createElement('div');\n    }, [isBrowser, portal]);\n    var elToMountTo = react_1.useMemo(function () {\n        if (isServer)\n            return;\n        return (bindTo && react_dom_1.findDOMNode(bindTo)) || document.body;\n    }, [isServer, bindTo]);\n    var createCustomEvent = function (e) {\n        if (!e)\n            return { portal: portal, targetEl: targetEl, event: e };\n        var event = e || {};\n        if (event.persist)\n            event.persist();\n        event.portal = portal;\n        event.targetEl = targetEl;\n        event.event = e;\n        var currentTarget = e.currentTarget;\n        if (!targetEl.current && currentTarget && currentTarget !== document)\n            targetEl.current = event.currentTarget;\n        return event;\n    };\n    // this should handle all eventHandlers like onClick, onMouseOver, etc. passed into the config\n    var customEventHandlers = Object\n        .entries(eventHandlers)\n        .reduce(function (acc, _a) {\n        var handlerName = _a[0], eventHandler = _a[1];\n        acc[handlerName] = function (event) {\n            if (isServer)\n                return;\n            eventHandler(createCustomEvent(event));\n        };\n        return acc;\n    }, {});\n    var openPortal = react_1.useCallback(function (e) {\n        if (isServer)\n            return;\n        var customEvent = createCustomEvent(e);\n        // for some reason, when we don't have the event argument, there\n        // is a weird race condition. Would like to see if we can remove\n        // setTimeout, but for now this works\n        if (targetEl.current == null) {\n            setTimeout(function () { return setOpen(true); }, 0);\n            throw Error(exports.errorMessage1);\n        }\n        if (onOpen)\n            onOpen(customEvent);\n        setOpen(true);\n    }, [isServer, portal, setOpen, targetEl, onOpen]);\n    var closePortal = react_1.useCallback(function (e) {\n        if (isServer)\n            return;\n        var customEvent = createCustomEvent(e);\n        if (onClose && open.current)\n            onClose(customEvent);\n        if (open.current)\n            setOpen(false);\n    }, [isServer, onClose, setOpen]);\n    var togglePortal = react_1.useCallback(function (e) {\n        return open.current ? closePortal(e) : openPortal(e);\n    }, [closePortal, openPortal]);\n    var handleKeydown = react_1.useCallback(function (e) {\n        return (e.key === 'Escape' && closeOnEsc) ? closePortal(e) : undefined;\n    }, [closeOnEsc, closePortal]);\n    var handleOutsideMouseClick = react_1.useCallback(function (e) {\n        var containsTarget = function (target) { return target.current.contains(e.target); };\n        if (containsTarget(portal) || e.button !== 0 || !open.current || containsTarget(targetEl))\n            return;\n        if (closeOnOutsideClick)\n            closePortal(e);\n    }, [isServer, closePortal, closeOnOutsideClick, portal]);\n    var handleMouseDown = react_1.useCallback(function (e) {\n        if (isServer || !(portal.current instanceof HTMLElement))\n            return;\n        var customEvent = createCustomEvent(e);\n        if (portal.current.contains(customEvent.target) && onPortalClick)\n            onPortalClick(customEvent);\n        handleOutsideMouseClick(e);\n    }, [handleOutsideMouseClick]);\n    // used to remove the event listeners on unmount\n    var eventListeners = react_1.useRef({});\n    react_1.useEffect(function () {\n        if (isServer)\n            return;\n        if (!(elToMountTo instanceof HTMLElement) || !(portal.current instanceof HTMLElement))\n            return;\n        // TODO: eventually will need to figure out a better solution for this.\n        // Surely we can find a way to map onScroll/onWheel -> scroll/wheel better,\n        // but for all other event handlers. For now this works.\n        var eventHandlerMap = {\n            onScroll: 'scroll',\n            onWheel: 'wheel',\n        };\n        var node = portal.current;\n        elToMountTo.appendChild(portal.current);\n        // handles all special case handlers. Currently only onScroll and onWheel\n        Object.entries(eventHandlerMap).forEach(function (_a) {\n            var handlerName = _a[0] /* onScroll */, eventListenerName = _a[1] /* scroll */;\n            if (!eventHandlers[handlerName])\n                return;\n            eventListeners.current[handlerName] = function (e) { return eventHandlers[handlerName](createCustomEvent(e)); };\n            document.addEventListener(eventListenerName, eventListeners.current[handlerName]);\n        });\n        document.addEventListener('keydown', handleKeydown);\n        document.addEventListener('mousedown', handleMouseDown);\n        return function () {\n            // handles all special case handlers. Currently only onScroll and onWheel\n            Object.entries(eventHandlerMap).forEach(function (_a) {\n                var handlerName = _a[0], eventListenerName = _a[1];\n                if (!eventHandlers[handlerName])\n                    return;\n                document.removeEventListener(eventListenerName, eventListeners.current[handlerName]);\n                delete eventListeners.current[handlerName];\n            });\n            document.removeEventListener('keydown', handleKeydown);\n            document.removeEventListener('mousedown', handleMouseDown);\n            elToMountTo.removeChild(node);\n        };\n    }, [isServer, handleOutsideMouseClick, handleKeydown, elToMountTo, portal]);\n    var Portal = react_1.useCallback(function (_a) {\n        var children = _a.children;\n        if (portal.current != null)\n            return react_dom_1.createPortal(children, portal.current);\n        return null;\n    }, [portal]);\n    return Object.assign([openPortal, closePortal, open.current, Portal, togglePortal, targetEl, portal], __assign(__assign({ isOpen: open.current, openPortal: openPortal, ref: targetEl, closePortal: closePortal,\n        togglePortal: togglePortal,\n        Portal: Portal, portalRef: portal }, customEventHandlers), { bind: __assign({ ref: targetEl }, customEventHandlers) }));\n}\nexports.default = usePortal;\n//# sourceMappingURL=usePortal.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Device;\n(function (Device) {\n    Device[\"Browser\"] = \"browser\";\n    Device[\"Server\"] = \"server\";\n    Device[\"Native\"] = \"native\";\n})(Device = exports.Device || (exports.Device = {}));\nvar Browser = Device.Browser, Server = Device.Server, Native = Device.Native;\nvar canUseDOM = !!(typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement);\nvar canUseNative = typeof navigator != 'undefined' && navigator.product == 'ReactNative';\nvar device = canUseNative ? Native : canUseDOM ? Browser : Server;\nvar SSRObject = {\n    isBrowser: device === Browser,\n    isServer: device === Server,\n    isNative: device === Native,\n    device: device,\n    canUseWorkers: typeof Worker !== 'undefined',\n    canUseEventListeners: device === Browser && !!window.addEventListener,\n    canUseViewport: device === Browser && !!window.screen,\n};\n// TODO: instead of this, do a polyfill for `Object.assign` https://www.npmjs.com/package/es6-object-assign\nvar assign = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args.reduce(function (acc, obj) { return (__assign(__assign({}, acc), obj)); }, {});\n};\nvar values = function (obj) { return Object.keys(obj).map(function (key) { return obj[key]; }); };\nvar toArrayObject = function () { return assign((values(SSRObject), SSRObject)); };\nvar useSSRObject = toArrayObject();\nexports.weAreServer = function () {\n    SSRObject.isServer = true;\n    useSSRObject = toArrayObject();\n};\nexports.useSSR = function () { return useSSRObject; };\nexports.default = exports.useSSR;\n","import styled from 'styled-components';\n\nexport const ProgressIndicatorContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  margin: -4px 0px 20px;\n\n  svg {\n    circle {\n      transition: stroke-dashoffset 0.35s;\n      transform: rotate(-90deg);\n      transform-origin: 50% 50%;\n\n      &.track {\n        transform: rotate(90deg);\n      }\n    }\n  }\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    margin: 20px 0px 40px;\n\n    svg {\n      width: 80px;\n      height: 80px;\n    }\n  }\n`;\n\nexport const ProgressIndicatorText = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-family: 'SF Pro Display';\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nexport const BarIndicatorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  margin-bottom: 40px;\n  color: ${({ theme }) => theme.colors.purple};\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 700;\n  `;\n\nexport const BarIndicator = styled.div<{ currentStep?: number, totalSteps?: number }>`\n  width: 120px;\n  height: 10px;\n  background: ${({ theme }) => theme.colors.midGrayBlue};\n  position: relative;\n  border-radius: 24px;\n  margin-top: 12px;\n  \n  &:after {\n    content:'';\n    width: ${({ currentStep, totalSteps }) => `calc((100%/${totalSteps}) * ${currentStep})`};\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: ${({ theme }) => theme.colors.purple};\n    border-radius: 24px;\n  }\n`;\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { colors } from 'theme';\n\n// Styles\nimport {\n  BarIndicator,\n  BarIndicatorContainer,\n  ProgressIndicatorContainer,\n} from './style';\n\ninterface ProgressIndicatorProps {\n  className?: string;\n  radius?: number;\n  stroke?: number;\n  color?: string;\n  colorTrack?: string;\n  currentStep?: number;\n  totalSteps?: number;\n  progressBar?: boolean;\n}\n\nconst ProgressIndicator = ({\n  className = '',\n  radius = 30,\n  stroke = 6,\n  currentStep = 2,\n  totalSteps = 4,\n  color = colors.green,\n  colorTrack = colors.gray3,\n  progressBar = false,\n}: ProgressIndicatorProps) => {\n  // Hooks\n  const { t } = useTranslation();\n\n  const progress = (currentStep / totalSteps) * 100;\n  const normalizedRadius = radius - stroke / 2;\n  const circumference = normalizedRadius * 2 * Math.PI;\n  const strokeDashoffset = circumference - ((progress / 100) * circumference);\n\n  return (\n    <>\n      {\n        progressBar\n          ? (\n            <BarIndicatorContainer>\n              {t('questionary:progressBar', { currentStep, totalSteps })}\n              <BarIndicator\n                currentStep={currentStep}\n                totalSteps={totalSteps}\n              />\n            </BarIndicatorContainer>\n          ) : (\n            <ProgressIndicatorContainer className={className}>\n              <svg\n                width={radius * 2}\n                height={radius * 2}\n                viewBox={`0 0 ${radius * 2} ${radius * 2}`}\n              >\n                <circle\n                  className=\"track\"\n                  stroke={colorTrack}\n                  fill=\"transparent\"\n                  strokeWidth={stroke}\n                  r={normalizedRadius}\n                  cx={radius}\n                  cy={radius}\n                />\n                <circle\n                  stroke={color}\n                  fill=\"transparent\"\n                  strokeWidth={stroke}\n                  strokeDasharray={`${circumference} ${circumference}`}\n                  style={{ strokeDashoffset }}\n                  r={normalizedRadius}\n                  cx={radius}\n                  cy={radius}\n                />\n                <text\n                  fontSize=\"16\"\n                  fill=\"#000000\"\n                  x=\"50%\"\n                  y=\"50%\"\n                  dominantBaseline=\"middle\"\n                  textAnchor=\"middle\"\n                >\n                  {`${currentStep}/${totalSteps}`}\n                </text>\n              </svg>\n\n            </ProgressIndicatorContainer>\n          )\n      }\n    </>\n  );\n};\n\nexport default React.memo(ProgressIndicator);\n","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport usePortal from 'react-useportal';\nimport { useTranslation } from 'react-i18next';\n\n// Form\nimport { useForm, Controller } from 'react-hook-form';\nimport { useStateMachine } from 'little-state-machine';\nimport { yupResolver } from '@hookform/resolvers';\nimport { ErrorMessage } from '@hookform/error-message';\nimport * as Yup from 'yup';\nimport { getCountry } from 'helper/stepsDefinitions';\n\n// Update Action\nimport { updateAction } from 'utils/wizard';\n\n// Components\nimport OptionList from 'components/OptionList';\nimport WizardButtons from 'components/WizardButtons';\nimport ProgressIndicator from 'components/ProgressIndicator';\n\n// Header Control\nimport useHeaderContext from 'hooks/useHeaderContext';\n\n// Utils\nimport { scrollToTop } from 'helper/scrollHelper';\n\n// Styles\nimport {\n  QuestionText, MainContainer, QuestionNote,\n} from '../style';\n\nconst schema = Yup.object({\n  gender: Yup.object().required(),\n}).defined();\n\ntype Step2Type = Yup.InferType<typeof schema>;\n\nconst Step2b = ({\n  previousStep,\n  nextStep,\n  storeKey,\n  metadata,\n}: Wizard.StepProps) => {\n  // Hooks\n  const { Portal } = usePortal({\n    bindTo: document && document.getElementById('wizard-buttons') as HTMLDivElement,\n  });\n  const { setDoGoBack, setTitle, setType } = useHeaderContext();\n  const history = useHistory();\n  const { t } = useTranslation();\n  const { state, action } = useStateMachine(updateAction(storeKey));\n  const country = getCountry();\n\n  // States\n  const [activeStep, setActiveStep] = React.useState(true);\n\n  // Form\n  const {\n    control, handleSubmit, formState,\n  } = useForm({\n    mode: 'onChange',\n    defaultValues: state?.[storeKey],\n    resolver: yupResolver(schema),\n  });\n  const { errors } = formState;\n\n  const {\n    isValid,\n  } = formState;\n\n  const handleDoBack = React.useCallback(() => {\n    setActiveStep(false);\n    if (previousStep) {\n      history.push(previousStep);\n    } else {\n      history.goBack();\n    }\n  }, [history, previousStep]);\n\n  useEffect(() => {\n    scrollToTop();\n    setTitle(`${t('questionary:gender.genderTitle')}`);\n    setType('primary');\n    setDoGoBack(() => handleDoBack);\n  }, [handleDoBack, setDoGoBack, setTitle, setType, metadata, t]);\n\n  // Handlers\n  const onSubmit = async (values: Step2Type) => {\n    if (values) {\n      action(values);\n      if (nextStep) {\n        setActiveStep(false);\n        history.push(nextStep);\n      }\n    }\n  };\n\n  // Memos\n  const genderOptions = React.useMemo(() => {\n    if (country === 'Japan') {\n      return [\n        {\n          value: 'female',\n          label: t('questionary:gender.options.female'),\n        },\n        {\n          value: 'male',\n          label: t('questionary:gender.options.male'),\n        },\n        {\n          value: 'transgender',\n          label: t('questionary:gender.options.transgender'),\n        },\n        {\n          value: 'notToSay',\n          label: t('questionary:gender.options.notToSay'),\n        },\n      ];\n    }\n    return [\n      {\n        value: 'female',\n        label: t('questionary:gender.options.female'),\n      },\n      {\n        value: 'male',\n        label: t('questionary:gender.options.male'),\n      },\n      {\n        value: 'transgender',\n        label: t('questionary:gender.options.transgender'),\n      },\n      {\n        value: 'other',\n        label: t('questionary:gender.options.other'),\n      },\n      {\n        value: 'notToSay',\n        label: t('questionary:gender.options.notToSay'),\n      },\n    ];\n  }, [country, t]);\n\n  return (\n    <MainContainer>\n      <ProgressIndicator\n        currentStep={metadata?.current}\n        totalSteps={metadata?.total}\n        progressBar\n      />\n      <QuestionText first>{t('questionary:gender.question')}\n        <QuestionNote>{t('questionary:gender.note')}</QuestionNote>\n      </QuestionText>\n      <Controller\n        control={control}\n        name=\"gender\"\n        defaultValue={{ selected: [], other: '' }}\n        render={({ onChange, value }) => (\n          <OptionList\n            singleSelection\n            value={value}\n            onChange={v => onChange(v)}\n            items={genderOptions}\n          />\n        )}\n      />\n      {/* Bottom Buttons */}\n      <p><ErrorMessage errors={errors} name=\"name\" /></p>\n      {activeStep && (\n        <Portal>\n          <WizardButtons\n            leftLabel={t('questionary:nextButton')}\n            leftHandler={handleSubmit(onSubmit)}\n            leftDisabled={!isValid}\n            invert\n          />\n        </Portal>\n      )}\n    </MainContainer>\n  );\n};\n\nexport default React.memo(Step2b);\n"],"sourceRoot":""}