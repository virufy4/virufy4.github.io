(this["webpackJsonpvirufy-study"]=this["webpackJsonpvirufy-study"]||[]).push([[64],{219:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9),r=n.n(a),o=n(214),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var s=function(e){var t=e.as,n=e.errors,a=e.name,s=e.message,u=e.render,c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["as","errors","name","message","render"]),l=Object(o.f)(),p=Object(o.c)(n||l.errors,a);if(!p)return null;var d=p.message,m=p.types,b=i(i({},c),{children:d||s});return t?r.a.isValidElement(t)?r.a.cloneElement(t,b):r.a.createElement(t,b):u?u({message:d||s,messages:m}):r.a.createElement(r.a.Fragment,i({},b))}},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(251),r=n.n(a).a.create({baseURL:"https://lwdzsrlhnk.execute-api.us-east-2.amazonaws.com/prod"});function o(){return r}},235:function(e,t,n){"use strict";var a=n(239);t.a=function(){return{isBrowser:a.isBrowser?Object(a.deviceDetect)():null,isMobile:a.isMobile?Object(a.deviceDetect)():null,isSmartTv:a.isSmartTV?Object(a.deviceDetect)():null,isConsole:a.isConsole?Object(a.deviceDetect)():null,isTablet:a.isTablet?Object(a.deviceDetect)():null,isWearable:a.isWearable?Object(a.deviceDetect)():null}}},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(9),r=n.n(a),o=n(260),i=n(849),s=n(17),u=n(205);function c(){var e=Object(u.a)(["\n  margin: 20px 0;\n  \n  div {\n    margin: auto;\n  }\n"]);return c=function(){return e},e}var l=n(204).default.div(c()),p=function(e){var t=e.onChange,n=e.setRecaptchaAvailable,a=Object(i.a)().i18n;return r.a.createElement(l,null,r.a.createElement(o.a,{sitekey:"6LcRhdIZAAAAAOI8zafkWF0N5SYOUjMszuEUnrJT",onChange:t,onErrored:function(){n(!1),s.a("Error on ReCAPTCHA")},hl:a.language}))}},246:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return v}));var a=n(211),r=n.n(a),o=n(212),i=n(229),s=n(220),u=n(235);function c(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(r.a.mark((function e(t){var n,a,o,s,c,l,p,d,m,b,v,h,f,y,g,S,O,w,j,C,E,I,x,k,A,D,T,R,V,q,F;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitError,a=t.state,o=t.captchaValue,s=t.nextStep,c=t.setActiveStep,l=t.history,e.prev=1,n(null),v=a.welcome,h=v.language,f=v.country,y=v.region,g=v.patientId,S=v.hospitalId,O=a["submit-steps"],w=O.vaccine,j=O.ageGroup,C=O.gender,E=O.ethnicity,I=O.biologicalSex,x=O.smokeLastSixMonths,k=O.currentSymptoms,A=O.symptomsStartedDate,D=O.currentRespiratoryCondition,T=O.currentMedicalCondition,(R=new FormData).append("device",JSON.stringify(Object(u.a)())),R.append("language",h),R.append("country",f),y&&R.append("region",y),S&&R.append("hospitalId",S),window.sourceCampaign&&R.append("source",window.sourceCampaign),w&&R.append("vaccine",w),j&&R.append("ageGroup",j),(V=C.other||C.selected[0])&&R.append("gender",V),E&&R.append("ethnicity",E),I&&R.append("biologicalSex",I),x&&R.append("smokeLastSixMonths",x),(null===k||void 0===k||null===(p=k.selected)||void 0===p?void 0:p.length)>0&&R.append("currentSymptoms",k.selected.join(",")),A&&R.append("symptomsStartedDate",A),(null===D||void 0===D||null===(d=D.selected)||void 0===d?void 0:d.length)>0&&R.append("currentRespiratoryCondition",D.selected.join(",")),(null===T||void 0===T||null===(m=T.selected)||void 0===m?void 0:m.length)>0&&R.append("currentMedicalCondition",T.selected.join(",")),(null===k||void 0===k?void 0:k.other)&&R.append("otherSymptoms",null===k||void 0===k?void 0:k.other),(null===D||void 0===D?void 0:D.other)&&R.append("otherRespiratoryConditions",null===D||void 0===D?void 0:D.other),(null===T||void 0===T?void 0:T.other)&&R.append("otherMedicalConditions",null===T||void 0===T?void 0:T.other),o&&R.append("captchaValue",o),e.next=29,i.a.post("/patient/".concat(g,"/questionary"),R,{headers:{"Content-Type":"multipart/form-data; boundary=Questionary"}});case 29:q=e.sent,s&&(null===(b=q.data)||void 0===b?void 0:b.submissionId)&&(c(!1),l.push(s,{submissionId:null===(F=q.data)||void 0===F?void 0:F.submissionId,patientId:g})),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(1),console.log(e.t0),n("beforeSubmit:submitError");case 37:case"end":return e.stop()}}),e,null,[[1,33]])})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark((function e(t){var n,a,o,s,c,l,p,d,m,b,v,h,f,y,g,S,O,w,j,C,E,I,x;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitError,a=t.state,o=t.captchaValue,s=t.nextStep,c=t.setActiveStep,l=t.history,e.prev=1,n(null),m=a.welcome,b=m.language,v=m.country,h=m.region,f=m.patientId,y=m.hospitalId,g=a["submit-steps"],S=g.ageGroup,O=g.gender,w=g.currentSymptoms,j=g.symptomsStartedDate,(C=new FormData).append("device",JSON.stringify(Object(u.a)())),C.append("language",b),C.append("country",v),h&&C.append("region",h),y&&C.append("hospitalId",y),window.sourceCampaign&&C.append("source",window.sourceCampaign),S&&C.append("ageGroup",S),(E=O.other||O.selected[0])&&C.append("gender",E),(null===w||void 0===w||null===(p=w.selected)||void 0===p?void 0:p.length)>0&&C.append("currentSymptoms",w.selected.join(",")),j&&C.append("symptomsStartedDate",j),o&&C.append("captchaValue",o),e.next=20,i.a.post("/patient/".concat(f,"/shortQuestionary"),C,{headers:{"Content-Type":"multipart/form-data; boundary=ShortQuestionary"}});case 20:I=e.sent,s&&(null===(d=I.data)||void 0===d?void 0:d.submissionId)&&(c(!1),l.push(s,{submissionId:null===(x=I.data)||void 0===x?void 0:x.submissionId,patientId:f})),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),console.log(e.t0),n("beforeSubmit:submitError");case 28:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(r.a.mark((function e(t){var n,a,o,c,l,p,d,m,b,v,h,f,y,g,S,O,w,j,C,E,I,x,k,A,D,T;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitError,a=t.state,o=t.captchaValue,c=t.nextStep,l=t.otherSteps,p=t.setActiveStep,d=t.history,m=t.isShortAudioCollection,e.prev=1,n(null),v=a.welcome,h=v.language,f=v.country,y=v.region,g=v.patientId,S=v.hospitalId,O=a["submit-steps"],w=O.recordYourCough,j=O.recordYourBreath,C=O.recordYourSpeech,(E=new FormData).append("device",JSON.stringify(Object(u.a)())),E.append("language",h),E.append("country",f),y&&E.append("region",y),S&&E.append("hospitalId",S),window.sourceCampaign&&E.append("source",window.sourceCampaign),w&&(I=w.recordingFile||w.uploadedFile,E.append("cough",I,I.name||"filename.wav")),j&&(x=j.recordingFile||j.uploadedFile,E.append("breath",x,x.name||"filename_breath.wav")),s.b.includes(f)&&C&&(k=C.recordingFile||C.uploadedFile,E.append("voice",k,k.name||"filename_voice.wav")),o&&E.append("captchaValue",o),E.append("shortAudioCollection",m||"false"),e.next=19,i.a.post("/patient/".concat(g,"/audioCollection"),E,{headers:{"Content-Type":"multipart/form-data; boundary=AudioCollection"}});case 19:A=e.sent,m&&(null===l||void 0===l?void 0:l.isShortAudioStep)?(p(!1),d.push(null===l||void 0===l?void 0:l.isShortAudioStep,{submissionId:null===(D=A.data)||void 0===D?void 0:D.submissionId,patientId:g})):c&&(null===(b=A.data)||void 0===b?void 0:b.submissionId)&&(p(!1),d.push(c,{submissionId:null===(T=A.data)||void 0===T?void 0:T.submissionId,patientId:g})),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),console.log(e.t0),n("beforeSubmit:submitError");case 27:case"end":return e.stop()}}),e,null,[[1,23]])})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t){var n,a,o,s,c,l,p,d,m,b,v,h,f,y,g,S,O,w,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitError,a=t.state,o=t.captchaValue,s=t.nextStep,c=t.setActiveStep,l=t.history,e.prev=1,n(null),d=a.welcome,m=d.language,b=d.country,v=d.region,h=d.patientId,f=d.hospitalId,y=a["submit-steps"],g=y.patientAntigenTestResult,S=y.patientPcrTestResult,(O=new FormData).append("device",JSON.stringify(Object(u.a)())),O.append("language",m),O.append("country",b),v&&O.append("region",v),f&&O.append("hospitalId",f),window.sourceCampaign&&O.append("source",window.sourceCampaign),g&&O.append("patientAntigenTestResult",g),S&&O.append("patientPcrTestResult",S),o&&O.append("captchaValue",o),e.next=17,i.a.post("/patient/".concat(h,"/testResult"),O,{headers:{"Content-Type":"multipart/form-data; boundary=testResult"}});case 17:w=e.sent,s&&(null===(p=w.data)||void 0===p?void 0:p.submissionId)&&(c(!1),l.push(s,{submissionId:null===(j=w.data)||void 0===j?void 0:j.submissionId,patientId:h})),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),n("beforeSubmit:submitError");case 25:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}},295:function(e,t,n){"use strict";n.r(t);var a=n(234),r=n(211),o=n.n(r),i=n(212),s=n(206),u=n(9),c=n.n(u),l=n(244),p=n(215),d=n.n(p),m=n(849),b=n(214),v=n(210),h=n(231),f=n(219),y=n(232),g=n(218),S=n(207),O=n(208),w=n(246),j=n(220),C=n(217),E=n(237),I=n(247),x=n(236),k=y.object({symptomsStartedDate:y.string().when("$country",{is:"Japan",then:y.string().required(),else:y.string().required().test("symptomsStartedDate-invalid","",(function(e){var t=!0;return e&&!e.match(/^[0-9]+$/)&&(t=!1),t}))})}).defined();t.default=c.a.memo((function(e){var t=e.previousStep,n=e.nextStep,r=e.storeKey,p=e.metadata,y=d()({bindTo:document&&document.getElementById("wizard-buttons")}).Portal,A=Object(S.a)(),D=A.setDoGoBack,T=A.setTitle,R=A.setType,V=Object(l.g)(),q=Object(m.a)().t,F=Object(v.d)(Object(g.b)(r)),M=F.state,B=F.action,J=Object(j.d)(),P=c.a.useState(!0),Q=Object(s.a)(P,2),z=Q[0],G=Q[1],L=c.a.useState(null),N=Object(s.a)(L,2),W=N[0],Y=N[1],U=c.a.useState(null),H=Object(s.a)(U,2),$=H[0],_=H[1],K=c.a.useState(!0),Z=Object(s.a)(K,2),X=Z[0],ee=Z[1],te=null===p||void 0===p?void 0:p.isShortQuestionary,ne=Object(b.e)({mode:"onChange",defaultValues:null===M||void 0===M?void 0:M[r],resolver:Object(h.a)(k),context:{country:J}}),ae=ne.control,re=ne.handleSubmit,oe=ne.formState,ie=oe.errors,se=oe.isSubmitting,ue=oe.isValid;Object(u.useEffect)((function(){$||Y(null)}),[$]);var ce=c.a.useMemo((function(){return te&&"Colombia"!==J?W?c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{onChange:_,setRecaptchaAvailable:ee}),c.a.createElement(x.TempBeforeSubmitError,null,W)):c.a.createElement(E.a,{onChange:_,setRecaptchaAvailable:ee}):null}),[J,te,W]),le=c.a.useCallback((function(){G(!1),t?V.push(t):V.goBack()}),[V,t]),pe=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(B(t),n&&(G(!1),V.push(n)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return B(t),e.next=4,Object(w.c)({setSubmitError:function(e){return Y(e?q(e):null)},state:Object(a.a)(Object(a.a)({},M),{},{"submit-steps":Object(a.a)(Object(a.a)({},M["submit-steps"]),t)}),captchaValue:$,action:B,nextStep:n,setActiveStep:G,history:V});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){Object(O.a)(),T(q("questionary:symptomsDateTitle")),R("primary"),D((function(){return le}))}),[le,D,T,R,q]);return c.a.createElement(x.MainContainer,null,c.a.createElement(x.QuestionText,{extraSpace:!0,first:!0},q("questionary:symptomsDate")),c.a.createElement(b.a,{control:ae,name:"symptomsStartedDate",defaultValue:"",render:function(e){var t=e.onChange,n=e.value,a=e.name;return"Japan"===J?c.a.createElement(I.a,{singleSelection:!0,value:{selected:n?[n]:[]},onChange:function(e){return t(e.selected[0])},items:[{value:"none",label:q("questionary:options.none")},{value:"today",label:q("questionary:options.today")},{value:"days",label:q("questionary:options.days")},{value:"week",label:q("questionary:options.week")},{value:"overWeek",label:q("questionary:options.overWeek")}]}):c.a.createElement(x.QuestionInput,{name:a,value:n,onChange:t,type:"text",placeholder:q("questionary:enterDays"),autoComplete:"Off"})}}),c.a.createElement("p",null,c.a.createElement(f.a,{errors:ie,name:"name"})),z&&c.a.createElement(y,null,ce,c.a.createElement(C.a,{leftLabel:q(te?se?"questionary:submitting":"beforeSubmit:submitButton":"questionary:nextButton"),leftHandler:re(te?de:pe),leftDisabled:te&&"Colombia"!==J?se||X&&!$:!ue,invert:!0})))}))}}]);
//# sourceMappingURL=64.c8b9d787.chunk.js.map