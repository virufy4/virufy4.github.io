{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","helper/stepsDefinitions.ts","components/Layout/Layout.ts","components/Wizard/style.ts","components/Wizard/Wizard.tsx","containers/SubmitSteps/SubmitSteps.tsx","containers/SubmitSteps/index.ts"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","baseUrl","removeSpeechIn","removeQuestionaryStep6In","getCountry","data","JSON","parse","window","localStorage","getItem","getWizardData","welcome","country","getSpeechContext","includes","stepsDefinition","storeKey","path","componentPath","props","previousStep","nextStep","otherSteps","manualUploadStep","metadata","currentLogic","progressCurrent","progressTotal","getCoughSteps","getSpeechSteps","baseMetadata","total","output","noTestStep","current","covidSymptomsStep","push","getQuestionarySteps","Layout","styled","div","theme","layout","generalPaddingLeft","generalPaddingRight","breakpoints","tablet","WizardContainer","StepContainer","WizardNavControlPortal","AsyncLoad","loadable","container","fallback","React","memo","steps","children","match","useRouteMatch","location","useLocation","useState","loadSteps","setLoadSteps","pathList","useMemo","base","url","replace","map","step","useEffect","timing","duration","key","exact","s","render","id","setStorageType","StoreKey","createStore","recordYourCough","recordingFile","uploadedFile","recordYourSpeech","name","SubmitSteps","state","useStateMachine","history","useHistory","problemRoute","inputState","out","toTest","file","route","itemWithProblem","find","toTestItem","undefined","size","checkFileConsistencyProblem"],"mappings":"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","file":"static/js/23.b6dcab5f.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","const baseUrl = '/submit-steps';\nconst baseComponentPath = 'SubmitSteps';\nconst middleComponentPathRecording = 'RecordingsSteps';\nconst middleComponentPathQuestionary = 'Questionary';\nconst middleComponentPathSubmission = 'Submission';\nconst recordYourCoughLogic = 'recordYourCough';\nconst recordYourSpeechLogic = 'recordYourSpeech';\n\nexport const removeSpeechIn: string[] = [\n  'Argentina',\n  'Bolivia',\n  'Brazil',\n  'Colombia',\n  'Mexico',\n  'Pakistan',\n  'Peru',\n  'United States',\n];\nexport const removeQuestionaryStep6In: string[] = [];\n\nfunction getWizardData() {\n  try {\n    const output = JSON.parse(window.localStorage.getItem('VirufyWizard') || '{}');\n    return output;\n  } catch {\n    return {};\n  }\n}\n\nexport function getCountry() {\n  const data = getWizardData();\n  return data?.welcome?.country ?? '';\n}\n\nexport function getSpeechContext() {\n  const country = getCountry();\n  if (removeSpeechIn.includes(country)) {\n    return 'cough';\n  }\n  return 'voice';\n}\n\nfunction getCoughSteps(storeKey: string, country: string) {\n  return [\n    {\n      path: '/step-record/cough',\n      componentPath: `${baseComponentPath}/${middleComponentPathRecording}/Introduction`,\n      props: {\n        storeKey,\n        previousStep: '/welcome/step-4',\n        nextStep: `${baseUrl}/step-listen/cough`,\n        otherSteps: {\n          manualUploadStep: `${baseUrl}/step-manual-upload/cough`,\n        },\n        metadata: {\n          currentLogic: recordYourCoughLogic,\n          progressCurrent: 1,\n          progressTotal: removeSpeechIn.includes(country) ? 2 : 3,\n        },\n      },\n    },\n    {\n      path: '/step-manual-upload/cough',\n      componentPath: `${baseComponentPath}/${middleComponentPathRecording}/RecordManualUpload`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/step-record/cough`,\n        nextStep: `${baseUrl}/step-listen/cough`,\n        metadata: {\n          currentLogic: recordYourCoughLogic,\n        },\n      },\n    },\n    {\n      path: '/step-listen/cough',\n      componentPath: `${baseComponentPath}/${middleComponentPathRecording}/ListenAudio`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/step-record/cough`,\n        nextStep: removeSpeechIn.includes(country)\n          ? `${baseUrl}/questionary/step1a`\n          : `${baseUrl}/step-record/speech`,\n        metadata: {\n          currentLogic: recordYourCoughLogic,\n        },\n      },\n    },\n  ];\n}\n\nfunction getSpeechSteps(storeKey: string, country: string) {\n  if (removeSpeechIn.includes(country)) {\n    return [];\n  }\n  return [\n    {\n      path: '/step-record/speech',\n      componentPath: `${baseComponentPath}/${middleComponentPathRecording}/Introduction`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/step-listen/cough`,\n        nextStep: `${baseUrl}/step-listen/speech`,\n        otherSteps: {\n          manualUploadStep: `${baseUrl}/step-manual-upload/speech`,\n        },\n        metadata: {\n          currentLogic: recordYourSpeechLogic,\n          progressCurrent: 2,\n          progressTotal: 3,\n        },\n      },\n    },\n    {\n      path: '/step-manual-upload/speech',\n      componentPath: `${baseComponentPath}/${middleComponentPathRecording}/RecordManualUpload`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/step-record/speech`,\n        nextStep: `${baseUrl}/step-listen/speech`,\n        metadata: {\n          currentLogic: recordYourSpeechLogic,\n        },\n      },\n    },\n    {\n      path: '/step-listen/speech',\n      componentPath: `${baseComponentPath}/${middleComponentPathRecording}/ListenAudio`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/step-record/speech`,\n        nextStep: `${baseUrl}/questionary/step1a`,\n        metadata: {\n          currentLogic: recordYourSpeechLogic,\n        },\n      },\n    },\n  ];\n}\n\nfunction getQuestionarySteps(storeKey: string, country: string) {\n  const baseMetadata = {\n    total: removeQuestionaryStep6In.includes(country) ? 5 : 6,\n    progressCurrent: removeSpeechIn.includes(country) ? 2 : 3,\n    progressTotal: removeSpeechIn.includes(country) ? 2 : 3,\n  };\n  const output = [\n    {\n      path: '/questionary/step1a',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step1a`,\n      props: {\n        storeKey,\n        previousStep: removeSpeechIn.includes(country)\n          ? `${baseUrl}/step-listen/cough`\n          : `${baseUrl}/step-listen/speech`,\n        nextStep: `${baseUrl}/questionary/step1b`,\n        otherSteps: {\n          noTestStep: `${baseUrl}/questionary/step2`,\n        },\n        metadata: {\n          current: 1,\n          ...baseMetadata,\n        },\n      },\n    },\n    {\n      path: '/questionary/step1b',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step1b`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step1a`,\n        nextStep: `${baseUrl}/questionary/step2`,\n        metadata: {\n          current: 1,\n          ...baseMetadata,\n        },\n      },\n    },\n    {\n      path: '/questionary/step2',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step2`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step1b`,\n        nextStep: `${baseUrl}/questionary/step3`,\n        otherSteps: {\n          noTestStep: `${baseUrl}/questionary/step1a`,\n        },\n        metadata: {\n          current: 2,\n          ...baseMetadata,\n        },\n      },\n    },\n    {\n      path: '/questionary/step3',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step3`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step2`,\n        nextStep: `${baseUrl}/questionary/step4a`,\n        metadata: {\n          current: 3,\n          ...baseMetadata,\n        },\n      },\n    },\n    {\n      path: '/questionary/step4a',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step4a`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step3`,\n        nextStep: `${baseUrl}/questionary/step5`,\n        otherSteps: {\n          covidSymptomsStep: `${baseUrl}/questionary/step4b`,\n        },\n        metadata: {\n          current: 4,\n          ...baseMetadata,\n        },\n      },\n    },\n    {\n      path: '/questionary/step4b',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step4b`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step4a`,\n        nextStep: `${baseUrl}/questionary/step5`,\n        metadata: {\n          current: 4,\n          ...baseMetadata,\n        },\n      },\n    },\n    {\n      path: '/questionary/step5',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step5`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step4a`,\n        nextStep: removeQuestionaryStep6In.includes(country)\n          ? `${baseUrl}/thank-you`\n          : `${baseUrl}/questionary/step6`,\n        metadata: {\n          current: 5,\n          ...baseMetadata,\n        },\n      },\n    },\n  ];\n\n  if (!removeQuestionaryStep6In.includes(country)) {\n    output.push({\n      path: '/questionary/step6',\n      componentPath: `${baseComponentPath}/${middleComponentPathQuestionary}/Step6`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/questionary/step5`,\n        nextStep: `${baseUrl}/thank-you`,\n        metadata: {\n          current: 6,\n          ...baseMetadata,\n        },\n      },\n    });\n  }\n  return output;\n}\n\nexport default function stepsDefinition(storeKey: string, country: string) {\n  const steps: Wizard.Step[] = [\n    // Record Your Cough Steps\n    ...getCoughSteps(storeKey, country),\n    // Record Your Speech Steps\n    ...getSpeechSteps(storeKey, country),\n    // Questionary\n    ...getQuestionarySteps(storeKey, country),\n    {\n      path: '/thank-you',\n      componentPath: `${baseComponentPath}/${middleComponentPathSubmission}/ThankYou`,\n      props: {\n        storeKey,\n        previousStep: `${baseUrl}/before-submit`,\n        nextStep: '/welcome',\n      },\n    },\n  ];\n\n  return steps;\n}\n","import styled from 'styled-components';\n\nconst Layout = styled.div`\n  padding-top: 16px;\n  padding-bottom: 24px; \n  padding-left: ${props => props.theme.layout.generalPaddingLeft};\n  padding-right: ${props => props.theme.layout.generalPaddingRight}; \n\n  @media screen and (${props => props.theme.breakpoints.tablet}){\n    margin: auto;\n    padding: 0px 60px;\n\n    max-width: 768px;\n    width: 100%;\n  }\n`;\n\nexport default Layout;\n","import styled from 'styled-components';\n\nexport const WizardContainer = styled.div`\n  display: flex;\n  flex-direction:column;\n\n  height:100%;\n`;\n\nexport const StepContainer = styled.div`\n  height: 100%;\n`;\n\nexport const WizardNavControlPortal = styled.div`\n  margin-bottom: 24px;\n`;\n","import React from 'react';\nimport loadable from '@loadable/component';\nimport SlideRoutes from 'react-slide-routes';\nimport { Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport { StateMachineProvider } from 'little-state-machine';\nimport Layout from 'components/Layout/';\nimport { WizardContainer, StepContainer, WizardNavControlPortal } from './style';\n\ninterface WizardProps {\n  steps: Wizard.Step[];\n}\n\ninterface AsyncLoadProps extends Partial<Wizard.StepProps> {\n  container: string;\n}\n\nconst AsyncLoad = loadable(({ container }: AsyncLoadProps) => import(`containers/${container}`), {\n  fallback: <div>Loading ...</div>,\n});\n\nfunction clearPath(path: string) {\n  return path.replace(/\\/$/, '');\n}\n\nconst Wizard = ({ steps, children }: React.PropsWithChildren<WizardProps>) => {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const [loadSteps, setLoadSteps] = React.useState(false);\n\n  const pathList = React.useMemo(() => {\n    const base = clearPath(match.url);\n    return steps.map(step => base + step.path);\n  }, [match.url, steps]);\n\n  React.useEffect(() => {\n    setLoadSteps(true);\n  }, []);\n\n  return (\n    <StateMachineProvider>\n      <WizardContainer>\n        <StepContainer>\n          {loadSteps && (\n            <SlideRoutes location={location} timing=\"ease-in-out\" duration={500} pathList={pathList}>\n              {steps.map(step => (\n                <Route\n                  key={step.componentPath}\n                  exact\n                  path={Array.isArray(step.path)\n                    ? step.path.map(s => (match.path + s))\n                    : match.path + step.path}\n                  render={() => (\n                    <Layout>\n                      <AsyncLoad\n                        container={step.componentPath}\n                        {...step.props}\n                      />\n                    </Layout>\n\n                  )}\n                />\n              ))}\n            </SlideRoutes>\n          )}\n        </StepContainer>\n        <WizardNavControlPortal id=\"wizard-buttons\">\n          {children}\n        </WizardNavControlPortal>\n      </WizardContainer>\n    </StateMachineProvider>\n  );\n};\n\nexport default React.memo(Wizard);\n","import React from 'react';\nimport { createStore, setStorageType, useStateMachine } from 'little-state-machine';\nimport { useHistory } from 'react-router-dom';\n\n// Wizard\nimport Wizard from 'components/Wizard';\n\n// Local\nimport stepsDefinition, { getCountry } from 'helper/stepsDefinitions';\n\nsetStorageType(window.localStorage);\n\nconst StoreKey = 'submit-steps';\n\ncreateStore({\n  [StoreKey]: {\n    recordYourCough: {\n      recordingFile: null,\n      uploadedFile: null,\n    },\n    recordYourSpeech: {\n      recordingFile: null,\n      uploadedFile: null,\n    },\n  },\n}, {\n  name: 'VirufyWizard',\n});\n\nconst SubmitSteps = () => {\n  // Hooks\n  const { state } = useStateMachine();\n  const history = useHistory();\n\n  // Effects\n  React.useEffect(() => {\n    const checkFileProblem = (file: File) => {\n      if (file && file.size === undefined) {\n        return true;\n      }\n      return false;\n    };\n\n    const checkFileConsistencyProblem = (inputState: Record<string, any>) => {\n      let out = null;\n\n      if (inputState[StoreKey]) {\n        const { recordYourCough, recordYourSpeech } = inputState[StoreKey];\n        const toTest = [];\n\n        if (recordYourCough) {\n          const { recordingFile, uploadedFile } = recordYourCough;\n          if (recordingFile) {\n            toTest.push({ file: recordingFile, route: '/step-record/cough' });\n          }\n          if (uploadedFile) {\n            toTest.push({ file: uploadedFile, route: '/step-manual-upload/cough' });\n          }\n        }\n        if (recordYourSpeech) {\n          const { recordingFile, uploadedFile } = recordYourCough;\n          if (recordingFile) {\n            toTest.push({ file: recordingFile, route: '/step-record/speech' });\n          }\n          if (uploadedFile) {\n            toTest.push({ file: uploadedFile, route: '/step-manual-upload/speech' });\n          }\n        }\n\n        const itemWithProblem = toTest.find(toTestItem => checkFileProblem(toTestItem.file));\n        if (itemWithProblem) {\n          out = itemWithProblem.route;\n        }\n      }\n\n      return out;\n    };\n\n    const problemRoute = checkFileConsistencyProblem(state);\n    if (problemRoute) {\n      history.push(`/${StoreKey}${problemRoute}`);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return null;\n};\n\nconst WrapperSubmitSteps = () => {\n  const country = getCountry();\n  const steps = React.useMemo(() => stepsDefinition(StoreKey, country), [country]);\n  return (\n    <Wizard\n      steps={steps}\n    >\n      <SubmitSteps />\n    </Wizard>\n  );\n};\n\nexport default React.memo(WrapperSubmitSteps);\n","export { default } from './SubmitSteps';\n"],"sourceRoot":""}